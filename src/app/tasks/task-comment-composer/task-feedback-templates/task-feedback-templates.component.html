<mat-card
  class="feedback-template-picker-card p-2 bg-white bg-opacity-90 rounded-lg border border-gray-300 shadow-none flex flex-col w-[338px] h-[423px]"
>
  <mat-tab-group (selectedTabChange)="scrollToSection($event)" class="category-tab-group">
    <mat-tab *ngFor="let category of categories" [label]="category.name"></mat-tab>
  </mat-tab-group>

  <mat-form-field class="w-full">
    <input
      matInput
      placeholder="Search templates"
      [(ngModel)]="searchTerm"
      (input)="filterTemplates()"
    />
    <button mat-icon-button matSuffix aria-label="Search">
      <mat-icon>search</mat-icon>
    </button>
  </mat-form-field>

  <div class="scrollable-content overflow-y-auto flex-grow">
    <div #tloSection class="template-category mt-2">
      <h4 class="text-gray-700 font-semibold">TLO</h4>
      <div class="template-grid flex flex-wrap gap-1.5 mt-1">
        <mat-chip
          *ngFor="let template of filteredCategories[0].templates"
          (mouseenter)="onHoverTemplate(template)"
          (mouseleave)="onHoverTemplate('')"
          (click)="selectTemplate(template)"
          class="template-chip px-2 py-1 rounded-full cursor-pointer hover:shadow-lg transition-shadow duration-200"
        >
          {{ template }}
        </mat-chip>
      </div>
    </div>

    <div #uloSection class="template-category mt-2">
      <h4 class="text-gray-700 font-semibold">ULO</h4>
      <div class="template-grid flex flex-wrap gap-1.5 mt-1">
        <mat-chip
          *ngFor="let template of filteredCategories[1].templates"
          (mouseenter)="onHoverTemplate(template)"
          (mouseleave)="onHoverTemplate('')"
          (click)="selectTemplate(template)"
          class="template-chip px-2 py-1 rounded-full cursor-pointer hover:shadow-lg transition-shadow duration-200"
        >
          {{ template }}
        </mat-chip>
      </div>
    </div>

    <div #cloSection class="template-category mt-2">
      <h4 class="text-gray-700 font-semibold">CLO</h4>
      <div class="template-grid flex flex-wrap gap-1.5 mt-1">
        <mat-chip
          *ngFor="let template of filteredCategories[2].templates"
          (mouseenter)="onHoverTemplate(template)"
          (mouseleave)="onHoverTemplate('')"
          (click)="selectTemplate(template)"
          class="template-chip px-2 py-1 rounded-full cursor-pointer hover:shadow-lg transition-shadow duration-200"
        >
          {{ template }}
        </mat-chip>
      </div>
    </div>

    <div #gloSection class="template-category mt-2">
      <h4 class="text-gray-700 font-semibold">GLO</h4>
      <div class="template-grid flex flex-wrap gap-1.5 mt-1">
        <mat-chip
          *ngFor="let template of filteredCategories[3].templates"
          (mouseenter)="onHoverTemplate(template)"
          (mouseleave)="onHoverTemplate('')"
          (click)="selectTemplate(template)"
          class="template-chip px-2 py-1 rounded-full cursor-pointer hover:shadow-lg transition-shadow duration-200"
        >
          {{ template }}
        </mat-chip>
      </div>
    </div>

    <div #sectionSection class="template-category mt-2">
      <h4 class="text-gray-700 font-semibold">Section</h4>
      <div class="template-grid flex flex-wrap gap-1.5 mt-1">
        <mat-chip
          *ngFor="let template of filteredCategories[4].templates"
          (mouseenter)="onHoverTemplate(template)"
          (mouseleave)="onHoverTemplate('')"
          (click)="selectTemplate(template)"
          class="template-chip px-2 py-1 rounded-full cursor-pointer hover:shadow-lg transition-shadow duration-200"
        >
          {{ template }}
        </mat-chip>
      </div>
    </div>
  </div>

  <div class="hovered-template-display text-gray-600">
    <p class="pt-5 mb-0">{{ hoveredTemplate || 'Template A1' }}</p>
    <p class="pt-1 pb-2 mb-0">
      This template will populate {{ hoveredTemplate || 'Template A1' }} text.
    </p>
  </div>
</mat-card>
